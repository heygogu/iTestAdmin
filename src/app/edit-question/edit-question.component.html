<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-7 col-md-9">

      <div class="text-center my-5" *ngIf="isLoading">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3">Loading...</p>
      </div>

      <div class="card shadow-sm border-0 bg-white rounded-4" *ngIf="!isLoading">
        <div class="card-header bg-primary text-white rounded-top-2 d-flex align-items-center gap-2">
          <i class="bi bi-pencil-square fs-3"></i>
          <h4 class="mb-0 flex-grow-1">Edit Question</h4>
        </div>
        <div class="card-body bg-light rounded-bottom-2">
          <form #editForm="ngForm" (ngSubmit)="onSubmit(editForm)" autocomplete="off" novalidate>
            <div class="mb-4">
              <label for="questionText" class="form-label fw-semibold">
                <i class="bi bi-question-circle me-2 text-primary"></i>Question
              </label>
              <textarea
                id="questionText"
                class="form-control form-control-lg rounded-3 shadow-sm"
                rows="3"
                name="text"
                [(ngModel)]="question.text"
                required
                placeholder="Enter your question here"></textarea>
            </div>
            <div class="mb-3">
              <label for="optionA" class="form-label fw-semibold">
                <span class="badge bg-secondary me-2">A</span>Option A
              </label>
              <input
                id="optionA"
                class="form-control form-control-lg rounded-3 shadow-sm"
                type="text"
                name="optionA"
                [(ngModel)]="question.optionA"
                required
                placeholder="Enter option A" />
            </div>
            <div class="mb-3">
              <label for="optionB" class="form-label fw-semibold">
                <span class="badge bg-secondary me-2">B</span>Option B
              </label>
              <input
                id="optionB"
                class="form-control form-control-lg rounded-3 shadow-sm"
                type="text"
                name="optionB"
                [(ngModel)]="question.optionB"
                required
                placeholder="Enter option B" />
            </div>
            <div class="mb-3">
              <label for="optionC" class="form-label fw-semibold">
                <span class="badge bg-secondary me-2">C</span>Option C
              </label>
              <input
                id="optionC"
                class="form-control form-control-lg rounded-3 shadow-sm"
                type="text"
                name="optionC"
                [(ngModel)]="question.optionC"
                required
                placeholder="Enter option C" />
            </div>
            <div class="mb-3">
              <label for="optionD" class="form-label fw-semibold">
                <span class="badge bg-secondary me-2">D</span>Option D
              </label>
              <input
                id="optionD"
                class="form-control form-control-lg rounded-3 shadow-sm"
                type="text"
                name="optionD"
                [(ngModel)]="question.optionD"
                required
                placeholder="Enter option D" />
            </div>
            <div class="mb-4">
              <label for="correctOption" class="form-label fw-semibold">
                <i class="bi bi-check2-circle text-primary me-2"></i>Correct Option
              </label>
              <select
                id="correctOption"
                class="form-select form-select-lg rounded-3 shadow-sm"
                name="correctOption"
                [(ngModel)]="question.correctOption"
                required>
                <option value="" disabled selected>Select correct option</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-4 gap-3">
              <button
                type="button"
                class="btn btn-outline-danger btn-lg px-4 rounded-2 d-flex align-items-center gap-2"
                (click)="onCancel()">
                <i class="bi bi-x-circle"></i> Cancel
              </button>
              <button
                type="submit"
                class="btn btn-primary btn-lg px-4 rounded-2 d-flex align-items-center gap-2"
                [disabled]="loading || !editForm.valid">
                <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
                <i class="bi bi-arrow-repeat" *ngIf="loading"></i>
                <i class="bi bi-save" *ngIf="!loading"></i>
                <span>{{ loading ? 'Updating...' : 'Update' }}</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
